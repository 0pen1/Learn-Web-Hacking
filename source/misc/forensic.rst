溯源分析
========================================

攻击机溯源技术
----------------------------------------

基于日志的溯源
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
使用路由器、主机等设备记录网络传输的数据流中的关键信息（时间、源地址、目的地址），追踪时基于日志查询做反向追踪。

这种方式的优点在于兼容性强、支持事后追溯、网络开销较小。但是同时该方法也受性能、空间和隐私保护等的限制，考虑到以上的因素，可以限制记录的数据特征和数据数量。另外可以使用流量镜像等技术来减小对网络性能的影响。

路由输入调试技术
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
在攻击持续发送数据，且特性较为稳定的场景下，可以使用路由器的输入调试技术，在匹配到攻击流量时动态的向上追踪。这种方式在DDoS攻击追溯中比较有效，且网络开销较小。

可控洪泛技术
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
追踪时向潜在的上游路由器进行洪泛攻击，如果发现收到的攻击流量变少则攻击流量会流经相应的路由。这种方式的优点在于不需要预先部署，对协同的需求比较少。但是这种方式本身是一种攻击，会对网络有所影响。

基于包数据修改追溯技术
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
这种溯源方式直接对数据包进行修改，加入编码或者标记信息，在接收端对传输路径进行重构。这种方式人力投入较少，支持事后分析，但是对某些协议的支持性不太好。

基于这种方式衍生出了随机标记技术，各路由以一定概率对数据包进行标识，接收端收集到多个包后进行重构。

关联分析方法
----------------------------------------

文档类
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
- hash
- ssdeep
- 版本信息（公司/作者/最后修改作者/创建时间/最后修改时间）

可执行文件
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
- 特殊端口
- 特殊字符串/密钥
- PDB文件路径

清除日志方式
----------------------------------------
- ``kill <bash process ID>`` 不会存储
- ``set +o history`` 不写入历史记录
- ``unset HISTFILE`` 清除历史记录的环境变量
